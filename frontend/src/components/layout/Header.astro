---
import Menu from "./Menu.astro";

export interface Props {
    verLogo?: boolean;
    fondoNegro?: boolean;
}

const { verLogo = true, fondoNegro = false } = Astro.props;

const inlineHide = verLogo
    ? ""
    : "opacity:0;visibility:hidden;pointer-events:none;";
---

<header
    id="mainHeader"
    data-fixed={fondoNegro ? "true" : "false"}
    class={`fixed top-0 left-0 w-full z-50
         h-25 sm:h-25 md:h-25
         transition-[background-color,box-shadow] duration-700 ease-[cubic-bezier(0.25,0.1,0.25,1)]
         ${fondoNegro ? "bg-black shadow-[0_4px_20px_rgba(0,0,0,0.4)]" : "bg-transparent"}`}
>
    <nav
        class="h-full grid grid-cols-[1fr_auto_1fr] items-center
           gap-2 sm:gap-6 md:gap-10
           mx-auto
           px-4 sm:px-6 md:px-8"
    >
        <!-- Izquierda -->
        <ul
            class="flex items-center justify-end
             gap-x-3 sm:gap-x-6 md:gap-x-10
             flex-wrap sm:flex-nowrap whitespace-nowrap min-w-0"
        >
            <li>
                <a
                    href="/artistas"
                    class="font-avestrava text-[clamp(25px,5.2vw,70px)] tracking-wide
                 text-white hover:text-red-400 transition-colors"
                >
                    Artistas
                </a>
            </li>
            <li>
                <a
                    href="/hot"
                    class="text-white font-avestrava text-[clamp(25px,5.2vw,70px)] tracking-wide
                 hover:text-red-400 transition-colors"
                >
                    Hot
                </a>
            </li>
        </ul>

        <!-- Centro -->
        <div
            class="flex items-center justify-center
             gap-3 sm:gap-6
             min-w-[96px] sm:min-w-[140px] md:min-w-[160px] px-1"
        >
            <span
                class="hidden sm:block h-[1.5px] w-16 sm:w-20 md:w-24 bg-white/40 rounded-full"
            ></span>

            <a
                href="/"
                aria-label="Ir a inicio"
                class="flex items-center justify-center"
            >
                <img
                    id="headerLogo"
                    src="/img/Home/Gallo.webp"
                    alt="RedRoosters TV"
                    width="56"
                    height="56"
                    class="h-13 sm:h-13 md:h-13 transition-opacity duration-700"
                    style={inlineHide}
                />
            </a>

            <span
                class="hidden sm:block h-[1.5px] w-16 sm:w-20 md:w-24 bg-white/40 rounded-full"
            ></span>
        </div>

        <!-- Derecha -->
        <ul
            class="flex items-center justify-start
             gap-x-3 sm:gap-x-6 md:gap-x-10
             flex-wrap sm:flex-nowrap whitespace-nowrap min-w-0"
        >
            <li>
                <a
                    href="/nosotros"
                    class="text-white font-avestrava font-medium tracking-wide hover:text-red-400 transition-colors
                 text-[clamp(25px,5.2vw,70px)]"
                >
                    Nosotros
                </a>
            </li>
            <li>
                <button
                    id="menuBtn"
                    class="ml-auto text-white hover:text-red-400 transition-colors text-5xl"
                    aria-label="Abrir menú"
                    aria-expanded="false"
                >
                    ≡
                </button>

                <Menu />
            </li>
        </ul>
    </nav>
</header>

<script src="/src/scripts/menu/menu.js" is:inline></script>
<script src="/src/scripts/menu/logout.js"></script>

<script>
    window.addEventListener("scroll", () => {
        const header = document.getElementById("mainHeader")

        if (!header) return

        const fijo = header.dataset.fixed === "true"
        if (fijo) {
            return
        }

        if (window.scrollY > 50) {
            header.classList.remove("bg-transparent")

            header.classList.add(
                "bg-black",
                "shadow-[0_4px_20px_rgba(0,0,0,0.4)]",
            )
        } else {
            header.classList.remove(
                "bg-black",
                "shadow-[0_4px_20px_rgba(0,0,0,0.4)]",
            )
        }
    })
</script>
